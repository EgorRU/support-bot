# Telegram Bot –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Å —Ç–µ–º–∞–º–∏ –≤ –≥—Ä—É–ø–ø–µ

–ë–æ—Ç –¥–ª—è –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–∏—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ —Ç–µ–º—ã (–≤–µ—Ç–∫–∏) –≥—Ä—É–ø–ø—ã Telegram –∏ –æ–±—Ä–∞—Ç–Ω–æ–π –ø–µ—Ä–µ—Å—ã–ª–∫–∏ –æ—Ç–≤–µ—Ç–æ–≤ –∏–∑ —Ç–µ–º—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–æ–∑–¥–∞—ë—Ç—Å—è –æ–¥–Ω–∞ —Ç–µ–º–∞.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ –ü–µ—Ä–µ—Å—ã–ª–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —Ç–µ–º—ã: –ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è —É—Ö–æ–¥—è—Ç –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é —Ç–µ–º—É —Ñ–æ—Ä—É–º–∞ –≤ –≥—Ä—É–ø–ø–µ
- ‚úÖ –ê–≤—Ç–æ—Å–æ–∑–¥–∞–Ω–∏–µ —Ç–µ–º—ã: –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ get-or-create –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –û—Ç–≤–µ—Ç –∏–∑ –≥—Ä—É–ø–ø—ã ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é: —Ä–µ–ø–ª–∞–π –≤ —Ç–µ–º–µ –ø–µ—Ä–µ—Å—ã–ª–∞–µ—Ç—Å—è –≤ –õ–° –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –û–¥–Ω–∞ —Ç–µ–º–∞ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: –∑–∞—â–∏—Ç–∞ –æ—Ç –≥–æ–Ω–æ–∫ –ø—Ä–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö
- ‚úÖ –£–¥–æ–±–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Ç–µ–º: "–ò–º—è –§–∞–º–∏–ª–∏—è | @username" (–µ—Å–ª–∏ –µ—Å—Ç—å username)
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π: –ø–µ—Ä–µ—Å—ã–ª–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å–æ–æ–±—â–µ–Ω–∏—è —Å –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º
- ‚úÖ –†–µ–∞–∫—Ü–∏–∏: –±–æ—Ç —Å—Ç–∞–≤–∏—Ç üëç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∏ –≤ —Ç–µ–º–µ –∫–∞–∫ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
- ‚úÖ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –ë–î: SQLite + SQLAlchemy 2 + aiosqlite

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone https://github.com/EgorRU/support-bot.git
cd support-bot
```

2. –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
```bash
python -m venv venv
```

3. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
- Windows (PowerShell/CMD):
```cmd
venv\Scripts\activate
```
- Linux/macOS (bash/zsh):
```bash
source venv/bin/activate
```

4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
pip install -r requirements.txt
```

5. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ `.env`:
- Windows:
```cmd
copy env_example.txt .env
```
- Linux/macOS:
```bash
cp env_example.txt .env
```

6. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env` –ø–æ–¥ –≤–∞—à–∏ –∑–Ω–∞—á–µ–Ω–∏—è:
```env
# –¢–æ–∫–µ–Ω Telegram –±–æ—Ç–∞
BOT_TOKEN=123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11

# ID –≥—Ä—É–ø–ø—ã —Å –≤–∫–ª—é—á—ë–Ω–Ω—ã–º–∏ —Ç–µ–º–∞–º–∏ (–≤—Å–µ–≥–¥–∞ —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º -100)
GROUP_ID=-1001234567890

# URL –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é SQLite)
DATABASE_URL=sqlite+aiosqlite:///database.db
```

### –ó–∞–ø—É—Å–∫
```bash
python src/main.py
```

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –∑–∞–ø—É—Å–∫–∞

–ß–µ—Ä–µ–∑ Makefile:
```bash
make run
```

–ß–µ—Ä–µ–∑ Docker Compose:
```bash
docker-compose up -d
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. Telegram Bot

1) –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ [@BotFather](https://t.me/BotFather)
2) –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –∏ —É–∫–∞–∂–∏—Ç–µ –µ–≥–æ –≤ `BOT_TOKEN`

### 2. –ì—Ä—É–ø–ø–∞ —Å —Ç–µ–º–∞–º–∏ (—Ñ–æ—Ä—É–º)

1) –°–æ–∑–¥–∞–π—Ç–µ —Å—É–ø–µ—Ä-–≥—Ä—É–ø–ø—É –∏ –≤–∫–ª—é—á–∏—Ç–µ —Ä–µ–∂–∏–º ¬´–¢–µ–º—ã¬ª (—Ñ–æ—Ä—É–º)
2) –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –∏ –≤—ã–¥–∞–π—Ç–µ –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–º–∞–º–∏ (Manage Topics)
- –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π (Send Messages)
3) –£–∑–Ω–∞–π—Ç–µ `GROUP_ID` (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ `@getmyid_bot`). –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω–∞–ª–∏—á–∏–µ –ø—Ä–µ—Ñ–∏–∫—Å–∞ `-100`.

## –ö–æ–º–∞–Ω–¥—ã

- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ**
  - `/start`: –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –¥–∞–ª—å–Ω–µ–π—à–µ–µ –æ–±—â–µ–Ω–∏–µ –≤ –õ–°

- **–†–∞–±–æ—Ç–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ –≤ –≥—Ä—É–ø–ø–µ**
  - –û—Ç–≤–µ—Ç –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π —Ç–µ–º–µ –ø–µ—Ä–µ—Å—ã–ª–∞–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤ –õ–°

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
support-bot/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ main.py          # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (python src/main.py)
‚îÇ   ‚îú‚îÄ‚îÄ user.py          # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–õ–° ‚Üí —Ç–µ–º–∞)
‚îÇ   ‚îú‚îÄ‚îÄ admin.py         # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≥—Ä—É–ø–ø—ã (—Ç–µ–º–∞ ‚Üí –õ–°)
‚îÇ   ‚îú‚îÄ‚îÄ dbrequest.py     # –î–æ—Å—Ç—É–ø –∫ –ë–î (CRUD), –∫–æ–Ω—Ç–µ–∫—Å—Ç —Å–µ—Å—Å–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ models.py        # SQLAlchemy: –¥–≤–∏–∂–æ–∫/—Å–µ—Å—Å–∏–∏ –∏ –º–æ–¥–µ–ª—å User, init_db()
‚îÇ   ‚îî‚îÄ‚îÄ setting.py       # –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏–∑ .env (pydantic-settings)
‚îú‚îÄ‚îÄ requirements.txt     # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îú‚îÄ‚îÄ pyproject.toml       # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞/–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
‚îú‚îÄ‚îÄ README.md            # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ LICENSE              # –õ–∏—Ü–µ–Ω–∑–∏—è MIT
‚îú‚îÄ‚îÄ Makefile             # –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞ (make run)
‚îú‚îÄ‚îÄ Dockerfile           # –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π Docker-–æ–±—Ä–∞–∑
‚îú‚îÄ‚îÄ docker-compose.yml   # –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π Compose –¥–ª—è –∑–∞–ø—É—Å–∫–∞
‚îú‚îÄ‚îÄ .env                 # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (—Å–æ–∑–¥–∞—Ç—å –∏–∑ env_example.txt)
‚îú‚îÄ‚îÄ .editorconfig        # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
‚îú‚îÄ‚îÄ .gitattributes       # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Git
‚îú‚îÄ‚îÄ .gitignore           # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ .dockerignore        # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ Docker-—Ñ–∞–π–ª—ã
‚îî‚îÄ‚îÄ env_example.txt      # –ü—Ä–∏–º–µ—Ä .env
```

## –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –°–º. —Ñ–∞–π–ª [LICENSE](LICENSE) –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.